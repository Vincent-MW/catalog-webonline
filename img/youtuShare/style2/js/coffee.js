(function(M,D){var P="",U,O,F,J={Webkit:"webkit",Moz:"",O:"o"},C=window.document,L=C.createElement("div"),S=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i,B,R,A,N,Q,E,H,K,I,G={};function V(W){return W.replace(/([a-z])([A-Z])/,"$1-$2").toLowerCase()}function T(W){return U?U+W:W.toLowerCase()}M.each(J,function(X,W){if(L.style[X+"TransitionProperty"]!==D){P="-"+X.toLowerCase()+"-";U=W;return false}});B=P+"transform";G[R=P+"transition-property"]=G[A=P+"transition-duration"]=G[Q=P+"transition-delay"]=G[N=P+"transition-timing-function"]=G[E=P+"animation-name"]=G[H=P+"animation-duration"]=G[I=P+"animation-delay"]=G[K=P+"animation-timing-function"]="";M.fx={off:(U===D&&L.style.transitionProperty===D),speeds:{_default:400,fast:200,slow:600},cssPrefix:P,transitionEnd:T("TransitionEnd"),animationEnd:T("AnimationEnd")};M.fn.animate=function(Z,W,Y,a,X){if(M.isFunction(W)){a=W,Y=D,W=D}if(M.isFunction(Y)){a=Y,Y=D}if(M.isPlainObject(W)){Y=W.easing,a=W.complete,X=W.delay,W=W.duration}if(W){W=(typeof W=="number"?W:(M.fx.speeds[W]||M.fx.speeds._default))/1000}if(X){X=parseFloat(X)/1000}return this.anim(Z,W,Y,a,X)};M.fn.anim=function(c,h,Y,j,a){var e,Z={},d,b="",g=this,X,f=M.fx.transitionEnd,W=false;if(h===D){h=M.fx.speeds._default/1000}if(a===D){a=0}if(M.fx.off){h=0}if(typeof c=="string"){Z[E]=c;Z[H]=h+"s";Z[I]=a+"s";Z[K]=(Y||"linear");f=M.fx.animationEnd}else{d=[];for(e in c){if(S.test(e)){b+=e+"("+c[e]+") "}else{Z[e]=c[e],d.push(V(e))}}if(b){Z[B]=b,d.push(B)}if(h>0&&typeof c==="object"){Z[R]=d.join(", ");Z[A]=h+"s";Z[Q]=a+"s";Z[N]=(Y||"linear")}}X=function(k){if(typeof k!=="undefined"){if(k.target!==k.currentTarget){return}M(k.target).unbind(f,X)}else{M(this).unbind(f,X)}W=true;M(this).css(G);j&&j.call(this)};if(h>0){this.bind(f,X);setTimeout(function(){if(W){return}X.call(g)},(h*1000)+25)}this.size()&&this.get(0).clientLeft;this.css(Z);if(h<=0){setTimeout(function(){g.each(function(){X.call(this)})},0)}return this};L=null})(Zepto);(function(A){A.fn.coffee=function(H){var L=null;var F=null;var C="cubic-bezier(.09,.64,.16,.94)";var B=A(this);var N=A.extend({},A.fn.coffee.defaults,H);var D=N.steamWidth;var I=A('<div class="coffee-steam-box"></div>').css({"height":N.steamHeight,"width":N.steamWidth,"left":60,"top":-50,"position":"absolute","overflow":"hidden","z-index":0}).appendTo(B);A.fn.coffee.stop=function(){clearInterval(L);clearInterval(F)};A.fn.coffee.start=function(){L=setInterval(function(){K()},M(N.steamInterval/2,N.steamInterval*2));F=setInterval(function(){G()},M(100,1000)+M(1000,3000))};return B;function K(){var R=M(8,N.steamMaxSize);var U=E(1,N.steamsFontFamily);var P="#"+E(6,"0123456789ABCDEF");var O=M(0,44);var T=M(-90,89);var Q=J(0.4,1);var S=A.fx.cssPrefix+"transform";S=S+":rotate("+T+"deg) scale("+Q+");";var V=A('<span class="coffee-steam">'+E(1,N.steams)+"</span>");var W=M(0,D-N.steamWidth-R);if(W>O){W=M(0,O)}V.css({"position":"absolute","left":O,"top":N.steamHeight,"font-size:":R+"px","color":P,"font-family":U,"display":"block","opacity":1}).attr("style",V.attr("style")+S).appendTo(I).animate({top:M(N.steamHeight/2,0),left:W,opacity:0},M(N.steamFlyTime/2,N.steamFlyTime*1.2),C,function(){V.remove();V=null})}function G(){var O=M(-10,10);O+=parseInt(I.css("left"));if(O>=54){O=54}else{if(O<=34){O=34}}I.animate({left:O},M(1000,3000),C)}function E(Q,R){Q=Q||1;var S="";var O=R.length-1;var P=0;for(i=0;i<Q;i++){P=M(0,O-1);S+=R.slice(P,P+1)}return S}function M(R,O){var Q=O-R;var P=R+Math.round(Math.random()*Q);return parseInt(P)}function J(R,O){var Q=O-R;var P=R+Math.random()*Q;return parseFloat(P)}};A.fn.coffee.defaults={steams:["jQuery","HTML5","HTML6","CSS2","CSS3","JS","$.fn()","char","short","if","float","else","type","case","function","travel","return","array()","empty()","eval","C++","JAVA","PHP","JSP",".NET","while","this","$.find();","float","$.ajax()","addClass","width","height","Click","each","animate","cookie","bug","Design","Julying","$(this)","i++","Chrome","Firefox","Firebug","IE6","Guitar","Music","攻城师","旅行","王子墨","啤酒"],steamsFontFamily:["Verdana","Geneva","Comic Sans MS","MS Serif","Lucida Sans Unicode","Times New Roman","Trebuchet MS","Arial","Courier New","Georgia"],steamFlyTime:5000,steamInterval:500,steamMaxSize:30,steamHeight:200,steamWidth:300};A.fn.coffee.version="2.0.0"})(Zepto);